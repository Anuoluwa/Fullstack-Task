{"ast":null,"code":"var _jsxFileName = \"/home/anu/Products/Fullstack-Task/frontend/src/pages/ArticleEdit/ArticleEdit.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { ROUTE_ARTICLE_LIST } from '../../constants';\nimport { getArticle, editArticle } from '../../services/articles';\nimport RegionDropdown from '../../components/RegionDropdown/RegionDropdown';\n\nfunction ArticleEdit(props) {\n  const history = useHistory();\n  const {\n    articleId\n  } = useParams();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [author, setAuthor] = useState('');\n  const [authorId, setAuthorId] = useState(null);\n  const [regions, setRegions] = useState([]);\n  useEffect(() => {\n    const fetchArticle = async () => {\n      const data = await getArticle(articleId);\n      setTitle(data.title);\n      setContent(data.content);\n      setAuthor(`${data.author.firstName} ${data.author.lastName}`);\n      setAuthor(data.author.id);\n      setRegions(data.regions);\n    };\n\n    fetchArticle();\n  }, [articleId]);\n\n  const handleSave = async () => {\n    const payload = {\n      title,\n      content,\n      regions\n    };\n    await editArticle(articleId, payload);\n    history.push(ROUTE_ARTICLE_LIST);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ArticleEdit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Edit Article\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Title\",\n    value: title,\n    onChange: event => setTitle(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Content\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"Content\",\n    rows: \"5\",\n    value: content,\n    onChange: event => setContent(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Regions\"), /*#__PURE__*/React.createElement(RegionDropdown, {\n    value: regions,\n    onChange: regions => setRegions(regions),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Save Article\")));\n}\n\nexport default ArticleEdit;","map":{"version":3,"sources":["/home/anu/Products/Fullstack-Task/frontend/src/pages/ArticleEdit/ArticleEdit.js"],"names":["React","useState","useEffect","useHistory","useParams","Form","Button","ROUTE_ARTICLE_LIST","getArticle","editArticle","RegionDropdown","ArticleEdit","props","history","articleId","title","setTitle","content","setContent","author","setAuthor","authorId","setAuthorId","regions","setRegions","fetchArticle","data","firstName","lastName","id","handleSave","payload","push","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nimport { ROUTE_ARTICLE_LIST } from '../../constants';\nimport { getArticle, editArticle } from '../../services/articles';\nimport RegionDropdown from '../../components/RegionDropdown/RegionDropdown';\n\nfunction ArticleEdit(props) {\n    const history = useHistory();\n    const { articleId } = useParams();\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [author, setAuthor] = useState('');\n    const [authorId, setAuthorId] = useState(null);\n    const [regions, setRegions] = useState([]);\n\n    useEffect(() => {\n        const fetchArticle = async () => {\n            const data = await getArticle(articleId);\n            setTitle(data.title);\n            setContent(data.content);\n            setAuthor(`${data.author.firstName} ${data.author.lastName}`);\n            setAuthor(data.author.id)\n            setRegions(data.regions);\n        };\n\n        fetchArticle();\n    }, [articleId]);\n\n    const handleSave = async () => {\n        const payload = { title, content, regions };\n        await editArticle(articleId, payload);\n        history.push(ROUTE_ARTICLE_LIST);\n    };\n\n    return (\n        <div className=\"ArticleEdit\">\n            <h1>Edit Article</h1>\n            <Form>\n                <Form.Group>\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                        type=\"text\"\n                        placeholder=\"Title\"\n                        value={ title }\n                        onChange={ (event) => setTitle(event.target.value) }\n                    />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Content</Form.Label>\n                    <Form.Control\n                        as=\"textarea\"\n                        placeholder=\"Content\"\n                        rows=\"5\"\n                        value={ content }\n                        onChange={ (event) => setContent(event.target.value) }\n                    />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Regions</Form.Label>\n                    <RegionDropdown\n                        value={ regions }\n                        onChange={ (regions) => setRegions(regions) }\n                    />\n                </Form.Group>\n                <Button variant=\"primary\" onClick={ handleSave }>\n                    Save Article\n                </Button>\n            </Form>\n        </div>\n    );\n}\n\nexport default ArticleEdit;\n"]},"metadata":{},"sourceType":"module"}