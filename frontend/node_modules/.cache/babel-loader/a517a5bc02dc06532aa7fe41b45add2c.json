{"ast":null,"code":"var _jsxFileName = \"/home/anu/Products/Fullstack-Task/frontend/src/pages/ArticleEdit/ArticleEdit.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { ROUTE_ARTICLE_LIST } from '../../constants';\nimport { getArticle, editArticle } from '../../services/articles';\nimport RegionDropdown from '../../components/RegionDropdown/RegionDropdown';\nimport AuthorDropdown from '../../components/AuthorDropdown/AuthorDropdown';\n\nfunction ArticleEdit(props) {\n  const history = useHistory();\n  const {\n    articleId\n  } = useParams();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState(''); // const [author, setAuthor] = useState('');\n\n  const [authorId, setAuthorId] = useState(null);\n  const [regions, setRegions] = useState([]);\n  useEffect(() => {\n    const fetchArticle = async () => {\n      const data = await getArticle(articleId);\n      setTitle(data.title);\n      setContent(data.content); // setAuthor(`${data.author.firstName} ${data.author.lastName}`);\n\n      setAuthorId(data.authorId);\n      setRegions(data.regions);\n    };\n\n    fetchArticle();\n  }, [articleId]);\n\n  const handleSave = async () => {\n    const payload = {\n      title,\n      content,\n      authorId,\n      regions\n    };\n    await editArticle(articleId, payload);\n    history.push(ROUTE_ARTICLE_LIST);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ArticleEdit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Edit Article\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Title\",\n    value: title,\n    onChange: event => setTitle(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Content\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"Content\",\n    rows: \"5\",\n    value: content,\n    onChange: event => setContent(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Choose Author: \"), /*#__PURE__*/React.createElement(AuthorDropdown, {\n    value: authorId,\n    onChange: author => setAuthorId(author.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Regions\"), /*#__PURE__*/React.createElement(RegionDropdown, {\n    value: regions,\n    onChange: regions => setRegions(regions),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"Save Article\")));\n}\n\nexport default ArticleEdit;","map":{"version":3,"sources":["/home/anu/Products/Fullstack-Task/frontend/src/pages/ArticleEdit/ArticleEdit.js"],"names":["React","useState","useEffect","useHistory","useParams","Form","Button","ROUTE_ARTICLE_LIST","getArticle","editArticle","RegionDropdown","AuthorDropdown","ArticleEdit","props","history","articleId","title","setTitle","content","setContent","authorId","setAuthorId","regions","setRegions","fetchArticle","data","handleSave","payload","push","event","target","value","author","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nimport { ROUTE_ARTICLE_LIST } from '../../constants';\nimport { getArticle, editArticle } from '../../services/articles';\nimport RegionDropdown from '../../components/RegionDropdown/RegionDropdown';\nimport AuthorDropdown from '../../components/AuthorDropdown/AuthorDropdown';\n\nfunction ArticleEdit(props) {\n    const history = useHistory();\n    const { articleId } = useParams();\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    // const [author, setAuthor] = useState('');\n    const [authorId, setAuthorId] = useState(null);\n    const [regions, setRegions] = useState([]);\n\n    useEffect(() => {\n        const fetchArticle = async () => {\n            const data = await getArticle(articleId);\n            setTitle(data.title);\n            setContent(data.content);\n            // setAuthor(`${data.author.firstName} ${data.author.lastName}`);\n            setAuthorId(data.authorId)\n            setRegions(data.regions);\n        };\n\n        fetchArticle();\n    }, [articleId]);\n\n    const handleSave = async () => {\n        const payload = { title, content, authorId, regions };\n        await editArticle(articleId, payload);\n        history.push(ROUTE_ARTICLE_LIST);\n    };\n\n    return (\n        <div className=\"ArticleEdit\">\n            <h1>Edit Article</h1>\n            <Form>\n                <Form.Group>\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                        type=\"text\"\n                        placeholder=\"Title\"\n                        value={ title }\n                        onChange={ (event) => setTitle(event.target.value) }\n                    />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Content</Form.Label>\n                    <Form.Control\n                        as=\"textarea\"\n                        placeholder=\"Content\"\n                        rows=\"5\"\n                        value={ content }\n                        onChange={ (event) => setContent(event.target.value) }\n                    />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Choose Author: </Form.Label>\n                    <AuthorDropdown\n                        value={ authorId }\n                        onChange={ (author) => setAuthorId(author.id) }\n                    />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Regions</Form.Label>\n                    <RegionDropdown\n                        value={ regions }\n                        onChange={ (regions) => setRegions(regions) }\n                    />\n                </Form.Group>\n                <Button variant=\"primary\" onClick={ handleSave }>\n                    Save Article\n                </Button>\n            </Form>\n        </div>\n    );\n}\n\nexport default ArticleEdit;\n"]},"metadata":{},"sourceType":"module"}